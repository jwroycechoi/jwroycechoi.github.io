rmarkdown::render_site()
rmarkdown::render_site()
?rmarkdown::render_site
install.packages("leaflet.extras")
?leaflet.extras::addFullscreenControl
knitr::opts_chunk$set(echo = TRUE, fig.align = 'center', warning = FALSE)
library(leaflet)
library(tidyverse)
library(RColorBrewer)
library(tigris)
library(ggplot2)
library(sp)
library(stargazer)
library(gridExtra)
#### Import the merged dataset V2 ####
tx_bb_entrepreneur_merged_v2 <- read_csv("https://raw.githubusercontent.com/jwroycechoi/broadband-entrepreneurship/master/Datasets/Broadband-Entrepreneurship-TX-merged_v2.csv")
## Set up spatial dataframe
tx_county <- counties("Texas")
tx_bb_entrepreneur_merged_v3 <- sp::merge(tx_county, tx_bb_entrepreneur_merged_v2,
by.x = "GEOID", by.y = "FIPS")
#### Descriptive Statistics ####
tx_bb_entrepreneur_merged_v2 %>%
select(pct_proprietors_employment_2017, pct_change_pro_emp_2010_2017, pctnonemp_2018, pctsmallent_2018, pctsmall_50_2018, total_ne_2018,
avg_nestab_2018, median_nestab_2018, nestab_change_2017_2018, venturedensity_mean, highlyactive_vd_mean) %>%
stargazer(as.data.frame(.), type = "html")
View(tx_bb_entrepreneur_merged_v2)
colnames(tx_bb_entrepreneur_merged_v2)
colnames(tx_bb_entrepreneur_merged_v2)
knitr::opts_chunk$set(echo = TRUE, warning = FALSE)
## Generate average GoDaddy & M-lab broadband measures and clean unnecessary variables ##
tx_bb_entrepreneur_merged_v2 <- tx_bb_entrepreneur_merged_v2 %>%
mutate(venturedensity_mean = (venturedensitymay18 + venturedensitynov18 + venturedensityfeb19 + venturedensitysep19 + venturedensityoct19 + venturedensitynov19 + venturedensitydec19) / 7,
highlyactive_vd_mean = (highlyactive_vdmay18 + highlyactive_vdnov18 + highlyactive_vdfeb19 + highlyactive_vdsep19 + highlyactive_vdoct19 + highlyactive_vdnov19 + highlyactive_vddec19) / 7,
pct_broadband_mlab = (frac_BB.sept + frac_BB.oct + frac_BB.nov + frac_BB.dec) / 4) %>%
select(-c(starts_with("frac_under_"), starts_with("frac_over"), starts_with("samples."), starts_with("BB_samples"), pctbbfrac_poor_ASU, state.y, county.y, starts_with("DL"), starts_with("UL"), starts_with("dl_sample"), starts_with("ul_sample")), net_migration) %>%
rename(state = state.x, county = county.x)
tx_bb_entrepreneur_merged_v2 <- tx_bb_entrepreneur_merged_v2 %>% select(-c(net_migration))
## Write CSV ##
write_csv(tx_bb_entrepreneur_merged_v2, "Broadband-Entrepreneurship-TX-merged_v2.csv")
knitr::opts_chunk$set(echo = TRUE, fig.align = 'center', warning = FALSE)
library(leaflet)
library(tidyverse)
library(RColorBrewer)
library(tigris)
library(ggplot2)
library(sp)
library(stargazer)
library(gridExtra)
tx_bb_entrepreneur_merged_v2 <- tx_bb_entrepreneur_merged_v2 %>%
mutate(pct_fixed_acs_2018 = pct_fixed_acs_2018/100)
tx_bb_entrepreneur_merged_v3 <- sp::merge(tx_county, tx_bb_entrepreneur_merged_v2,
by.x = "GEOID", by.y = "FIPS")
tx_bb_entrepreneur_merged_v2 %>%
select(pct_broadband_FCC, pct_broadband_MS, pct_fixed_acs_2018, pct_broadband_mlab) %>%
stargazer(as.data.frame(.), type = "html")
grid.arrange(
ggplot(tx_bb_entrepreneur_merged_v2, aes(x = pct_broadband_FCC)) + geom_histogram() + theme_minimal() + xlab("FCC Broadband"),
ggplot(tx_bb_entrepreneur_merged_v2, aes(x = pct_broadband_MS)) + geom_histogram() + theme_minimal() + xlab("MS Broadband"),
ggplot(tx_bb_entrepreneur_merged_v2, aes(x = pct_fixed_acs_2018)) + geom_histogram() + theme_minimal() + xlab("ACS Broadband Subscription"),
ggplot(tx_bb_entrepreneur_merged_v2, aes(x = pct_broadband_mlab)) + geom_histogram() + theme_minimal() + xlab("M-Lab Broadband"),
nrow = 2, ncol = 2, top = "Broadband Measure Distribution"
)
library(RSocrata)
fcc477_2019 <- read.socrata(
"https://opendata.fcc.gov/resource/sgz3-kiqt.csv?stateabbr=TX",
app_token = "VVKDIbbHVFF1HBztnQifUisCN",
email = "jwroycechoi@gmail.com",
password = "Wodnjs58640!"
)
library(tidyverse)
str(fcc477_2019)
summary(fcc477_2019$maxaddown, fcc477_2019$maxcirdown)
summary(fcc477_2019$maxaddown)
summary(fcc477_2019$maxcirdown)
hist(fcc477_2019$maxaddown)
hist(fcc477_2019$maxcirdown)
factor(fcc477_2019$providername)
factor(fcc477_2019$dbaname)
str(fcc477_2019)
## Clean and Convert Data Types ##
fcc477_2019 <- fcc477_2019 %>%
select(providername, dbaname, blockcode, techcode, maxaddown, maxadup, maxcirdown, maxcirup) %>%
mutate(blockcode = as.character(blockcode),
county_FIPS = substr(blockcode, 1, 5))
str(fcc477_2019)
factor(fcc477_2019$county_FIPS)
str(fcc477_2019)
fcc477_2019 <- fcc477_2019 %>%
mutate(techcode = as.character(techcode))
fcc477_2019 <- fcc477_2019 %>%
mutate(broadband = case_when(maxaddown >= 25 & maxadup >= 3 ~ 1, TRUE ~ 0))
str(fcc477_2019)
fcc477_2019 <- fcc477_2019 %>%
group_by(county_FIPS) %>%
mutate(broadband_pct = sum(broadband, na.rm = T) / n())
str(fcc477_2019)
factor(fcc477_2019$broadband_pct)
fcc477_2019 <- fcc477_2019 %>%
ungroup() %>% distinct(county_FIPS, .keep_all = T)
str(fcc477_2019)
fcc477_2019_raw <- read.socrata(
"https://opendata.fcc.gov/resource/sgz3-kiqt.csv?stateabbr=TX",
app_token = "VVKDIbbHVFF1HBztnQifUisCN",
email = "jwroycechoi@gmail.com",
password = "Wodnjs58640!"
)
## Clean and Convert Data Types ##
fcc477_2019 <- fcc477_2019_raw %>%
select(providername, dbaname, blockcode, techcode, maxaddown, maxadup, maxcirdown, maxcirup) %>%
mutate(blockcode = as.character(blockcode),
county_FIPS = substr(blockcode, 1, 5),
techcode = as.character(techcode))
table(fcc477_2019_raw$techcode)
max(table(fcc477_2019_raw$techcode))
name(which(table(fcc477_2019$techcode) == max(table(fcc477_2019$techcode)))[1])
names(which(table(fcc477_2019$techcode) == max(table(fcc477_2019$techcode)))[1])
names(which(table(fcc477_2019$dbaname) == max(table(fcc477_2019$dbaname)))[1])
names(which(table(fcc477_2019$providername) == max(table(fcc477_2019$providername)))[1])
## Clean and Convert Data Types ##
fcc477_2019 <- fcc477_2019_raw %>%
select(providername, dbaname, blockcode, techcode, maxaddown, maxadup, maxcirdown, maxcirup) %>%
mutate(blockcode = as.character(blockcode),
county_FIPS = substr(blockcode, 1, 5),
techcode = as.character(techcode),
broadband = case_when(maxaddown >= 25 & maxadup >= 3 ~ 1, TRUE ~ 0))
fcc477_2019 <- fcc477_2019 %>%
group_by(county_FIPS) %>%
mutate(broadband_pct = sum(broadband, na.rm = T) / n(),
maxdown = max(maxaddown),
maxup = max(maxadup),
prom_provider = names(which(table(providername) == max(table(providername)))[1]),
prom_tech = names(which(table(techcode) == max(table(techcode)))[1])) %>%
arrange(desc(maxaddown, county_FIPS)) %>% ungroup() %>%
distinct(county_FIPS, .keep_all = T)
str(fcc477_2019)
## Clean and Convert Data Types ##
fcc477_2019 <- fcc477_2019_raw %>%
select(providername, dbaname, blockcode, techcode, maxaddown, maxadup, maxcirdown, maxcirup) %>%
mutate(blockcode = as.character(blockcode),
county_FIPS = substr(blockcode, 1, 5),
techcode = as.character(techcode),
broadband = case_when(maxaddown >= 25 & maxadup >= 3 ~ 1, TRUE ~ 0))
fcc477_2019 <- fcc477_2019 %>%
group_by(county_FIPS) %>%
mutate(broadband_pct = sum(broadband, na.rm = T) / n(),
mediandown = median(maxaddown),
medianup = median(maxadup),
prom_provider = names(which(table(providername) == max(table(providername)))[1]),
prom_tech = names(which(table(techcode) == max(table(techcode)))[1])) %>%
arrange(desc(maxaddown, county_FIPS)) %>% ungroup() %>%
distinct(county_FIPS, .keep_all = T)
str(fcc477_2019)
install.packages("leaflet.extras")
knitr::opts_chunk$set(echo = TRUE, fig.align = 'center', warning = FALSE)
library(leaflet)
library(tidyverse)
library(RColorBrewer)
library(tigris)
library(ggplot2)
library(sp)
library(stargazer)
library(gridExtra)
#### Import the merged dataset V2 ####
tx_bb_entrepreneur_merged_v2 <- read_csv("https://raw.githubusercontent.com/jwroycechoi/broadband-entrepreneurship/master/Datasets/Broadband-Entrepreneurship-TX-merged_v2.csv")
summary(tx_bb_entrepreneur_merged_v2$pct_fixed_acs_2018)
tx_bb_entrepreneur_merged_v2 <- tx_bb_entrepreneur_merged_v2 %>%
mutate(pct_fixed_acs_2018 = pct_fixed_acs_2018/100)
tx_bb_entrepreneur_merged_v3 <- sp::merge(tx_county, tx_bb_entrepreneur_merged_v2,
by.x = "GEOID", by.y = "FIPS")
tx_bb_entrepreneur_merged_v2 %>%
select(pct_broadband_FCC, pct_broadband_MS, pct_fixed_acs_2018, pct_broadband_mlab, pct_broadband_FCC_2019) %>%
stargazer(as.data.frame(.), type = "html")
grid.arrange(
ggplot(tx_bb_entrepreneur_merged_v2, aes(x = pct_broadband_FCC)) + geom_histogram() + theme_minimal() + xlab("FCC Broadband (Dec 2017)"),
ggplot(tx_bb_entrepreneur_merged_v2, aes(x = pct_broadband_FCC_2019)) + geom_histogram() + theme_minimal() + xlab("FCC Broadband (June 2019)"),
ggplot(tx_bb_entrepreneur_merged_v2, aes(x = pct_broadband_MS)) + geom_histogram() + theme_minimal() + xlab("MS Broadband"),
ggplot(tx_bb_entrepreneur_merged_v2, aes(x = pct_fixed_acs_2018)) + geom_histogram() + theme_minimal() + xlab("ACS Broadband Subscription"),
ggplot(tx_bb_entrepreneur_merged_v2, aes(x = pct_broadband_mlab)) + geom_histogram() + theme_minimal() + xlab("M-Lab Broadband"),
nrow = 2, ncol = 3, top = "Broadband Measure Distribution"
)
fcc477_2017_raw <- read.socrata(
"https://opendata.fcc.gov/resource/9r8r-g7ut.csv?stateabbr=TX",
app_token = "VVKDIbbHVFF1HBztnQifUisCN",
email = "jwroycechoi@gmail.com",
password = "Wodnjs58640!"
)
## Use FCC API with RSocrata package ##
#install.packages("RSocrata")
library(RSocrata)
fcc477_2017_raw <- read.socrata(
"https://opendata.fcc.gov/resource/9r8r-g7ut.csv?stateabbr=TX",
app_token = "VVKDIbbHVFF1HBztnQifUisCN",
email = "jwroycechoi@gmail.com",
password = "Wodnjs58640!"
)
str(fcc477_2017_raw)
fcc477_2017 <- fcc477_2017_raw %>%
select(providername, dbaname, blockcode, techcode, maxaddown, maxadup, maxcirdown, maxcirup) %>%
mutate(blockcode = as.character(blockcode),
county_FIPS = substr(blockcode, 1, 5),
techcode = as.character(techcode),
broadband = case_when(maxaddown >= 25 & maxadup >= 3 ~ 1, TRUE ~ 0))
fcc477_2017 <- fcc477_2017 %>%
group_by(county_FIPS) %>%
mutate(broadband_pct = sum(broadband, na.rm = T) / n(),
mediandown = median(maxaddown),
medianup = median(maxadup),
prom_provider = names(which(table(providername) == max(table(providername)))[1]),
prom_tech = names(which(table(techcode) == max(table(techcode)))[1])) %>%
arrange(desc(maxaddown, county_FIPS)) %>% ungroup() %>%
distinct(county_FIPS, .keep_all = T)
View(fcc477_2017)
grid.arrange(
ggplot(fcc477_2017, aes(x = broadband_pct)) + geom_histogram() + theme_minimal() + xlab("FCC Broadband (June 2017)"),
ggplot(fcc477_2019, aes(x = broadband_pct)) + geom_histogram() + theme_minimal() + xlab("FCC Broadband (June 2019)"),
ncol = 2, nrow =1)
